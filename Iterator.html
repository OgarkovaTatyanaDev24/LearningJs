<html>
  <head>
    <script>
      /**
       * @class
       * @classdesc Iterator is a class that provides access to and navigation through the elements of a collection.
       */
      class Iterator {
        /**
         * @param {number[]} arr - Array of items.
         */
        constructor(arr) {
          this.arr = arr;
          this.reset();
        }

        /**
         * Shifts the iterator state one step forward.
         *
         * @returns {boolean}
         * Returns true if a step forward has occurred in the array.
         * Returns false if the end of the array is reached.
         */
        advance() {
          return this.arr[++this.index] !== undefined;
        }

        /**
         * Calculates the current index in the array.
         *
         * @returns {number}
         *  Returns the current index in an array. Initial state -1.
         */
        currentIndex() {
          return this.index;
        }

        /**
         * Determines the current value of a page item.
         *
         * @returns {number}
         * Returns the current value of an element in an array. Initial state - null.
         */
        currentValue() {
          return this.arr[this.index] ?? null;
        }

        /**
         * Sets currentIndex in the iterator.
         *
         * @param {number} value - Array element index.
         *
         * @returns {boolean}
         * Returns true if the position was successfully set (did not go beyond the length of the array).
         * Returns false if out of bounds.
         */
        select(value) {
          this.index = value;
          return this.currentValue() !== null;
        }

        // Resets the iterator position to its initial state.

        reset() {
          this.index = -1;
        }
      }

      const iterator = new Iterator([0, 0, 0]);

      // Initial state of the iterator.

      console.log("initial state:");
      console.log(iterator.currentIndex());
      console.log(iterator.currentValue());

      // advance()

      console.log("advance:");
      console.log(iterator.advance());

      console.log("index", iterator.currentIndex());
      console.log("value", iterator.currentValue());

      iterator.advance();
      console.log("index", iterator.currentIndex());
      console.log("value", iterator.currentValue());

      iterator.advance();
      console.log("index", iterator.currentIndex());
      console.log("value", iterator.currentValue());

      // currentIndex()

      console.log("currentIndex:");
      console.log(iterator.currentIndex());

      // select()

      console.log("select:");
      console.log(iterator.select(-5));
      console.log(iterator.select(2));
      console.log(iterator.currentIndex());
      console.log(iterator.currentValue());

      console.log(iterator.select(1));
      console.log(iterator.currentIndex());
      console.log(iterator.currentValue());

      // currentValue()

      console.log("currentValue:");
      console.log(iterator.currentValue());

      //   reset()
      console.log("reset");
      iterator.reset();
      console.log("index", iterator.currentIndex());
      console.log("value", iterator.currentValue());
    </script>
  </head>
  <body></body>
</html>
